var eventplanner=angular.module("EventPlanner",["ui.bootstrap","smart-table","ngRoute"]);eventplanner.config(["$httpProvider","$routeProvider",function(n,t){n.defaults.headers.get||(n.defaults.headers.get={foobar:(new Date).getTime()});n.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT";n.defaults.headers.get["Cache-Control"]="no-cache";n.defaults.headers.get.Pragma="no-cache";t.when("/evenementen",{templateUrl:"/Content/app/partials/evenementlist.html",controller:"ReservatiesCtrl"}).when("/evenement/:evenementId",{templateUrl:"/Content/app/partials/evenement.html",controller:"ReservatieDetailCtrl"}).otherwise({redirectTo:"/evenementen"})}]);eventplanner.run(["$rootScope",function(n){n.openCalendar=function(t,i){t.preventDefault();t.stopPropagation();n[i]={};n[i].opened=!0}}]);eventplanner.controller("DetailEvenementCtrl",["$scope","reservatieSvc",function(n,t){n.detailEvenementOpslaan=function(){t.detailsEvenementOpslaan(n.evenement)};n.init=function(){t.getReservatieData(n.evenementId).then(function(t){n.evenement=t.evenement;n.reservatieData=t.reservatieData})}}]);eventplanner.controller("ReservatieDetailCtrl",["$scope",function(n){n.nieuwePeriodeToevoegenVisibility={visible:!1}}]);eventplanner.controller("PeriodeCtrl",["$scope",function(n){n.toegevoegdeStraten=[];n.getOverlap=function(){};n.straatToevoegen=function(t){t!==undefined&&t.Id!==undefined&&(n.toegevoegdeStraten.push(t),n.$broadcast("straatGeselecteerd"))};n.straatVerwijderen=function(t){var i=n.toegevoegdeStraten.indexOf(t);n.toegevoegdeStraten.splice(i,1)}}]);eventplanner.controller("StratenCtrl",["$scope","$http",function(n,t){n.getLocations=function(n){if(n!==undefined&&!(n.length<2))return t.get("/straten/straat?zoekstraat="+n).then(function(n){return n.data})};n.$on("straatGeselecteerd",function(){n.geselecteerdeStraat=""})}]);eventplanner.controller("ReservatiesCtrl",["$scope","reservatieSvc",function(n,t){n.openCalendar=function(t,i){t.preventDefault();t.stopPropagation();n[i]=!0};n.datumVan=moment().toJSON();n.datumTot=moment().add(1,"month").toJSON();n.callServer=function(i){i===undefined&&(i={pagination:{start:0,number:10},search:{predicateObject:{$:""}}});n.isLoading=!0;var r=i.pagination,u=r.start||0,f=r.number||10,e=i.search.predicateObject===undefined?"":i.search.predicateObject.$;t.getReservatiesData(n.datumVan,n.datumTot,u,f,e).then(function(t){n.rowCollection=t.rows;i.pagination.numberOfPages=t.numberOfPages;n.isLoading=!1})}}]);eventplanner.directive("evenementheader",function(){return{scope:{evenementInfo:"=info"},template:"{{evenementInfo.titel}} ({{evenementInfo.eigenaar}})"}});eventplanner.factory("reservatieSvc",["$http","$q","notifier",function(n,t,i){return{getReservatieData:function(r){var u=t.defer();return n.get("/api/Reservatie/GetReservatieData",{params:{EvenementId:r}}).success(u.resolve).error(function(){i.error("something went wrong!")}),u.promise},detailsEvenementOpslaan:function(t){n.post("/api/Reservatie/OmschrijvingAanpassen",t).success(function(){i.notify("changes saved succesfully")}).error(function(){i.error("something went wrong")})},getReservatiesData:function(r,u,f,e,o){var s=t.defer();return n.get("/api/Reservaties/GetForDate",{params:{DatumVan:r,DatumTot:u,Start:f,Number:e,SearchTerm:o}}).success(s.resolve).error(function(){i.error("Er is iets misgelopen")}),s.promise}}}]);eventplanner.value("toastr",toastr);eventplanner.factory("notifier",["toastr",function(n){return n.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},{notify:function(t){n.success(t,"")},error:function(t){n.error(t,"")}}}]);
//# sourceMappingURL=eventplanner.min.js.map
